# LLDB Debugging Guide for Performance Test Hanging Issue

## Step 1: Start LLDB
lldb .\build-debug\Debug\performance_test.exe

## Step 2: Set Breakpoints
(lldb) breakpoint set --file performance_test.cpp --line 125  # Start of receive loop
(lldb) breakpoint set --file Socket.cpp --line 222              # recv call in ReceiveRaw
(lldb) breakpoint set --file performance_test.cpp --line 135    # Receive call

## Step 3: Run the Program
(lldb) run

## Step 4: When it hangs, check thread status
(lldb) thread list
(lldb) thread backtrace all

## Step 5: Examine Variables
(lldb) frame variable
(lldb) frame variable bytesReceived
(lldb) frame variable testData.size()

## Step 6: Step Through the Hanging Code
(lldb) thread step-in
(lldb) thread step-over

## Step 7: Check Socket State
(lldb) frame variable acceptedSocket
(lldb) expression acceptedSocket->IsValid()

## Step 8: Monitor recv Return Values
(lldb) frame variable result
(lldb) frame variable chunk

## Step 9: If stuck in recv, check system calls
(lldb) process status
(lldb) thread info

## Step 10: Force continue with timeout
(lldb) continue

## Useful LLDB Commands:
- `thread backtrace` - Show call stack
- `frame variable` - Show local variables
- `breakpoint list` - Show all breakpoints
- `watchpoint set variable bytesReceived` - Watch variable changes
- `process signal SIGINT` - Send interrupt signal
- `kill` - Terminate the process
