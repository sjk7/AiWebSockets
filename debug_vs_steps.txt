# Visual Studio Debugging Steps

## 1. Open in Visual Studio
- Open Visual Studio 2022
- File -> Open -> Project/Solution
- Navigate to: C:\Users\cool\Desktop\aiWebSockets\build-debug\aiWebSockets.sln

## 2. Set Breakpoints
- Open performance_test.cpp
- Set breakpoint at line 134: `printf("DEBUG: bytesReceived=%zu...`
- Set breakpoint at line 135: `printf("DEBUG: About to call Receive...`
- Set breakpoint at line 136: `auto [receiveResult, chunk] = acceptedSocket->Receive...`
- Open Socket.cpp
- Set breakpoint at line 222: `int result = recv(m_socket...`

## 3. Start Debugging
- Right-click performance_test project -> "Set as Startup Project"
- Press F5 or click "Start Debugging"

## 4. When it hangs
- Press "Break All" (Ctrl+Alt+Break)
- Check the "Call Stack" window to see where it's stuck
- Check the "Threads" window to see all threads
- Check "Autos" and "Locals" windows for variable values

## 5. Step Through
- Use F10 (Step Over) to execute line by line
- Use F11 (Step Into) to go into functions
- Use Shift+F11 (Step Out) to exit current function

## 6. What to Look For
- Is it stuck in recv()? (Windows system call)
- Are the variables correct? (bytesReceived, testData.size())
- Is the socket valid?
- What's the exact call stack?

## 7. If stuck in recv()
- This means the client closed connection but server is waiting for more data
- Check if this is the expected behavior
- May need to use non-blocking sockets or select()
